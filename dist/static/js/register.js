"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}var CheckForm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"username",value:function(e){return!!/\w{6,10}/.test(e)}},{key:"password",value:function(e){return!(!/^.{6,16}$/.test(e)||!/[A-z][0-9]|[0-9][A-z]/.test(e))}},{key:"telphone",value:function(e){return!!/^1[35789]\d{9}$/.test(e)}},{key:"repassword",value:function(e){return""!==e&&(e=document.getElementById("password").value)===document.getElementById("password").value}}]),e}(),checkInfor=function(){var u=document.querySelector(".registerForm").querySelectorAll("input"),r=document.querySelector(".phone_yanzhengma_button"),t=null,a=60,c=(document.querySelector(".agreement input"),document.querySelector(".sub input"));return{init:function(){this.event()},event:function(){for(var s=this,e=function(c){u[c].onblur=function(e){e=e||window.event;var n=new CheckForm;if("telphone"===u[c].name){var r=u[c].parentNode.querySelector("span");n[u[c].name](u[c].value)?"telphone"===u[c].name&&sendAjax("../server/php/check.php",{data:{telphone:u[c].value}}).then(function(e){r.innerHTML="",s.success(u[c])}).catch(function(e){r.innerHTML="手机号已被注册"}):""==u[c].value?r.innerHTML="请输入手机号":r.innerHTML="手机号格式输入错误"}else if("password"===u[c].name){var t=u[c].parentNode.querySelector("span");n[u[c].name](u[c].value)?(t.innerHTML="",s.success(u[c])):""==u[c].value?t.innerHTML="请输入密码":t.innerHTML="密码格式输入错误"}else if("yanzhengma"===u[c].name){var a=u[c].parentNode.querySelector("span");""==u[c].value?a.innerHTML="请输入验证码":(a.innerHTML="",s.success(u[c]))}}},n=0;n<3;n++)e(n);r.onclick=function(e){e=e||window.event,r.disabled="disabled",clearInterval(t),r.value="重新发送(".concat(a,")"),t=setInterval(function(){a--,r.value="重新发送(".concat(a,")"),0==a&&(clearInterval(t),r.value="获取验证码",a=60,r.disabled="")},1e3)},c.onclick=function(e){e=e||window.event;for(var n=0;n<3;n++)if(-1===u[n].className.indexOf("has-success"))return u[n].focus(),!1}},success:function(e){e.className=e.className.replace(/(\s?has-error|\s?has-success)/g,""),e.className+="has-success"}}}();